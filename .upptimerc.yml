owner: KevvTheGoat # Your GitHub organization or username, where this repository lives
repo: ks-status # The name of this repository

sites:
  - name: Kevin Service Main Site
    url: https://www.kevsrv.me
  - name: Kevin Service Registry
    url: https://registry.kevsrv.me
    icon: https://www.kevsrv.me/assets/images/favicon.ico
  - name: Kevin Service Registry Backend
    url: https://registry.kevsrv.me/api/
    icon: https://www.kevsrv.me/assets/images/favicon.ico
    expectedStatusCodes:
      - 404
  - name: Kevin Service Free Hosting
    url: https://free.kevsrv.me
  - name: Kevin Service Free Hosting Backend
    icon: https://www.kevsrv.me/assets/images/favicon.ico
    url: https://free.kevsrv.me/api/

status-website:
  # Add your custom domain name, or remove the `cname` line if you don't have a domain
  # Uncomment the `baseUrl` line if you don't have a custom domain and add your repo name there
  cname: status.kevsrv.me
  # baseUrl: /your-repo-name
  logoUrl: https://www.kevsrv.me/assets/images/logo.png
  name: ""
  introTitle: "Kevin Service Status"
  introMessage: This is a status page for all services under Kevin Service
  navbar:
    - title: Home
      href: https://kevsrv.me
    - title: Status
      href: /

  customBodyHtml: |
    <div id="ks-dns-panel" style="display:none; margin: 1rem 0;">
      <h2 style="margin: 0 0 .5rem 0;">DNS Server Status</h2>
      <div id="ks-dns-box" style="padding:.75rem; border:1px solid rgba(0,0,0,.1); border-radius:.75rem;">
        Loadingâ€¦
      </div>
    </div>

  customHeadHtml: |
    <script defer>
      (async () => {
        const URL = "https://raw.githubusercontent.com/kevvTheGoat/ks-status/master/assets/dns-status.json";

        function placePanel() {
          const panel = document.getElementById("ks-dns-panel");
          if (!panel) return false;

          const h1 = document.querySelector("main h1, h1");
          if (h1 && h1.parentNode) {
            h1.parentNode.insertAdjacentElement("afterend", panel);
            panel.style.display = "block";
            return true;
          }

          const main = document.querySelector("main");
          if (main) {
            main.insertAdjacentElement("afterbegin", panel);
            panel.style.display = "block";
            return true;
          }

          return false;
        }

        // Wait for Upptime to finish rendering
        for (let i = 0; i < 50; i++) {
          if (placePanel()) break;
          await new Promise(r => setTimeout(r, 100));
        }

        const box = document.getElementById("ks-dns-box");
        if (!box) return;

        try {
          const res = await fetch(URL, { cache: "no-store" });
          if (!res.ok) throw new Error("HTTP " + res.status);

          const data = await res.json();
          const servers = data.servers || [];

          box.innerHTML = servers.map(s => {
            const ok = s.soaAnswer && s.soaAnswer.trim().length > 0;
            return `
              <div style="display:flex; justify-content:space-between; align-items:center; margin:.35rem 0;">
                <span>${(s.name || "").toString()}</span>
                <span style="font-weight:600; color:${ok ? "#16a34a" : "#dc2626"};">
                  ${ok ? "Operational" : "Down"}
                </span>
              </div>
            `;
          }).join("") || "No DNS data available";

        } catch (err) {
          box.textContent = "DNS status unavailable";
        }
      })();
    </script>
    <script>
      document.title = "Kevin Service Status";
    </script>

# Upptime also supports notifications, assigning issues, and more
# See https://upptime.js.org/docs/configuration
