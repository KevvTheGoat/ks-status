owner: KevvTheGoat # Your GitHub organization or username, where this repository lives
repo: ks-status # The name of this repository

sites:
  - name: Kevin Service Main Site
    url: https://www.kevsrv.me
  - name: Kevin Service Registry
    url: https://registry.kevsrv.me
    icon: https://www.kevsrv.me/assets/images/favicon.ico
  - name: Kevin Service Registry Backend
    url: https://registry.kevsrv.me/api/
    icon: https://www.kevsrv.me/assets/images/favicon.ico
    expectedStatusCodes:
      - 404
  - name: Kevin Service Free Hosting
    url: https://free.kevsrv.me
  - name: Kevin Service Free Hosting Backend
    icon: https://www.kevsrv.me/assets/images/favicon.ico
    url: https://free.kevsrv.me/api/

status-website:
  # Add your custom domain name, or remove the `cname` line if you don't have a domain
  # Uncomment the `baseUrl` line if you don't have a custom domain and add your repo name there
  cname: status.kevsrv.me
  # baseUrl: /your-repo-name
  logoUrl: https://www.kevsrv.me/assets/images/logo.png
  name: Status
  introTitle: "Kevin Service Status"
  introMessage: This is a status page for all services under Kevin Service
  navbar:
    - title: Home
      href: https://kevsrv.me
    - title: Status
      href: /
  customBodyHtml: |
    <section style="margin: 1rem 0;">
      <h2 style="margin: 0 0 .5rem 0;">DNS Status</h2>
      <div id="dns-status" style="padding: .75rem; border: 1px solid rgba(0,0,0,.1); border-radius: .75rem;">
        Loadingâ€¦
      </div>
    </section>
    <script>
      (async () => {
        const container = document.getElementById("dns-status");
        try {
          const res = await fetch("https://raw.githubusercontent.com/kevvTheGoat/ks-status/master/history/dns-status.json", { cache: "no-store" });
          if (!res.ok) throw new Error("HTTP " + res.status);
          const data = await res.json();

          const escapeHtml = (s) => (s ?? "").toString()
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;");

          container.innerHTML = `
            <div><strong>Domain:</strong> ${escapeHtml(data.domain)}<br>
            <strong>Last Updated:</strong> ${escapeHtml(data.generatedAt)}</div>
            <hr style="border:none;border-top:1px solid rgba(0,0,0,.08);margin:.6rem 0;">
            ${data.servers.map(s => `
              <div style="margin:.5rem 0;">
                <div><strong>${escapeHtml(s.name)}</strong></div>
                <pre style="font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; white-space: pre-wrap;">
${escapeHtml(s.soaAnswer)}
                </pre>
              </div>
            `).join("")}
          `;
        } catch (err) {
          container.textContent = "Failed to load DNS status: " + err.message;
        }
      })();
    </script>

# Upptime also supports notifications, assigning issues, and more
# See https://upptime.js.org/docs/configuration
